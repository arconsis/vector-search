(function(){"use strict";var e={4500:function(e,t,i){var s=i(7195),n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{attrs:{id:"app"}},[t("MovieRecommender")],1)},o=[],r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"recommender-wrapper"},[t("h1",{staticClass:"title is-1"},[e._v("Movie Recommender")]),t("h1",{staticClass:"subtitle is-4"},[e._v(" Get movie recommendations based on the movie poster you upload ")]),e.uploadedImage.length?t("img",{attrs:{src:e.uploadedImage,alt:"Placeholder image",id:"uploaded-image"}}):e._e(),t("ImageUpload",{attrs:{id:"image-upload"},on:{"image-uploaded":e.getMoviesByImage}}),e.similarMovies.movies.length>0?t("SimilarMovies",{attrs:{movies:e.similarMovies.movies,id:"similar-movies"}}):e._e(),t("CopyrightTmbd",{staticClass:"copyright-tmdb"})],1)},a=[],c=(i(7658),function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"upload-wrapper"},[t("b-field",{staticClass:"file is-success",class:{"has-name":!!e.file}},[t("b-upload",{staticClass:"file-label",attrs:{accept:"image/*"},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}},[t("span",{staticClass:"file-cta"},[t("b-icon",{staticClass:"file-icon",attrs:{icon:"upload"}}),t("span",{staticClass:"file-label"},[e._v("Upload picture")])],1),e.file&&e.windowSizeNotPhone()?t("span",{staticClass:"file-name",on:{change:function(t){return e.emitImageString(e.file)}}},[e._v(" "+e._s(e.file.name)+" ")]):e._e()])],1)],1)}),l=[],u=s.ZP.extend({name:"ImageUpload",data(){return{file:null}},watch:{file(e){this.emitImage(e)}},methods:{emitImage(e){this.$emit("image-uploaded",e)},windowSizeNotPhone(){return window.innerWidth>800}}}),d=u,m=i(1001),p=(0,m.Z)(d,c,l,!1,null,"59fbd58c",null),f=p.exports,h=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"carousel-wrapper"},[e._l(e.movies.length,(function(i){return t("span",[i-1>=e.currentSlide&&i-1<e.currentSlide+e.showSlides?t("b-icon",{attrs:{icon:"circle",size:"is-small",type:"is-success"}}):t("b-icon",{attrs:{icon:"circle-outline",size:"is-small",type:"is-success"},nativeOn:{click:function(t){return e.changeCurrentSlide(i)}}})],1)})),t("b-carousel-list",{staticClass:"movie-card",attrs:{data:e.movies,"items-to-show":e.showSlides,"icon-size":"is-medium",repeat:!0,arrow:!1},scopedSlots:e._u([{key:"item",fn:function(e){return[t("MovieCard",{attrs:{movie:e}})]}}]),model:{value:e.currentSlide,callback:function(t){e.currentSlide=t},expression:"currentSlide"}})],2)},v=[],w=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"card",on:{mouseover:function(t){e.showContent=!0},mouseout:function(t){e.showContent=!1}}},[t("div",{staticClass:"card-image"},[t("figure",{staticClass:"image is-3by4"},[t("img",{attrs:{src:e.movie.imageUrl,alt:"Placeholder image"}})])]),t("header",{staticClass:"card-header"},[t("div",{staticClass:"title-wrapper"},[t("span",[t("p",{staticClass:"title is-4"},[e._v(e._s(e.movie.name))]),t("p",{staticClass:"subtitle is-6"},[e._v("Certainty: "+e._s(e.movie.certainty))])]),t("span",{staticClass:"icon-wrapper"},[e.showContent?t("b-icon",{attrs:{icon:"chevron-down",size:"is-medium"}}):t("b-icon",{attrs:{icon:"chevron-up",size:"is-medium"}})],1)])]),t("transition",{attrs:{name:"dropdown"}},[e.showContent?t("div",{staticClass:"card-content"},[t("div",{staticClass:"content"},[e._v(e._s(e.movie.description))])]):e._e()])],1)},g=[],_=s.ZP.extend({props:{movie:Object},data(){return{showContent:!1}}}),b=_,C=(0,m.Z)(b,w,g,!1,null,"2361b2fc",null),y=C.exports,S=s.ZP.extend({components:{MovieCard:y},props:{movies:Array},data(){return{currentSlide:0,showSlides:1}},mounted(){window.addEventListener("resize",this.onResize),this.onResize()},beforeDestroy(){window.removeEventListener("resize",this.onResize)},methods:{onResize(){window.innerWidth<800?this.showSlides=1:window.innerWidth<1100?this.showSlides=2:window.innerWidth<1500?this.showSlides=3:this.showSlides=4},changeCurrentSlide(e){e<this.showSlides?this.currentSlide=e-1:this.currentSlide=e-this.showSlides}}}),x=S,P=(0,m.Z)(x,h,v,!1,null,"94411f6a",null),M=P.exports,Z=function(){var e=this;e._self._c;return e._m(0)},z=[function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"copyright-wrap"}},[t("p",[e._v(" This website has been created by "),t("a",{attrs:{href:"https://www.arconsis.com/en/"}},[e._v("arconsis")]),e._v(". ")]),t("span",[e._v(" This product uses the TMDB API but is not endorsed or certified by "),t("a",{attrs:{href:"https://www.themoviedb.org/"}},[t("img",{attrs:{src:i(3735),alt:"tmdblogo",width:"100px"}}),e._v(". ")])])])}],I={},O=I,R=(0,m.Z)(O,Z,z,!1,null,"42c6877a",null),k=R.exports,T=i(19);const j=T.Z.create({baseURL:""});async function U(e){try{const t=new FormData;t.append("file",e);const i=await j.post("/image",t,{headers:{"Content-Type":"multipart/form-data"}});return i.data}catch(t){return console.log("Fetch has failed:",t),{movies:[]}}}var F=s.ZP.extend({name:"MovieRecommender",components:{ImageUpload:f,SimilarMovies:M,CopyrightTmbd:k},data(){return{similarMovies:{movies:[]},uploadedImage:""}},methods:{async getMoviesByImage(e){this.uploadedImage=await this.getFileString(e),this.similarMovies={movies:[]};const t=await U(e);t.movies.forEach((e=>this.similarMovies.movies.push(e)))},getFileString(e){return new Promise(((t,i)=>{const s=new FileReader;s.readAsDataURL(e),s.onload=()=>t("string"===typeof s.result?s.result?.toString():""),s.onerror=()=>i("")}))}}}),A=F,D=(0,m.Z)(A,r,a,!1,null,"0ca0351e",null),E=D.exports,L=s.ZP.extend({name:"App",components:{MovieRecommender:E}}),W=L,B=(0,m.Z)(W,n,o,!1,null,null,null),N=B.exports,$=i(7133);i(387);s.ZP.use($.ZP),s.ZP.config.productionTip=!1,new s.ZP({render:e=>e(N)}).$mount("#app")},3735:function(e,t,i){e.exports=i.p+"img/tmdblogo.4794afa3.svg"}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s](o,o.exports,i),o.exports}i.m=e,function(){var e=[];i.O=function(t,s,n,o){if(!s){var r=1/0;for(u=0;u<e.length;u++){s=e[u][0],n=e[u][1],o=e[u][2];for(var a=!0,c=0;c<s.length;c++)(!1&o||r>=o)&&Object.keys(i.O).every((function(e){return i.O[e](s[c])}))?s.splice(c--,1):(a=!1,o<r&&(r=o));if(a){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[s,n,o]}}(),function(){i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,{a:t}),t}}(),function(){i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){i.p="/vector-search/"}(),function(){var e={143:0};i.O.j=function(t){return 0===e[t]};var t=function(t,s){var n,o,r=s[0],a=s[1],c=s[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(c)var u=c(i)}for(t&&t(s);l<r.length;l++)o=r[l],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(u)},s=self["webpackChunkcom_arconsis_vectorsearch_productrecommender_frontend"]=self["webpackChunkcom_arconsis_vectorsearch_productrecommender_frontend"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=i.O(void 0,[998],(function(){return i(4500)}));s=i.O(s)})();
//# sourceMappingURL=app.0ddf7af9.js.map